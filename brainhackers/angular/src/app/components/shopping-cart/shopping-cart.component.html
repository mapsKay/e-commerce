
<!-- CART CARD HERE -->
<ng-container *ngIf="products.length != 0">
    <div class="container mb-5">
        <div class="content">
            <a type="button" style="margin-bottom: 12px;" (click)="removeAllProduct()"><i class="" ></i>Clear cart</a>
            <div class="row justify-content-center">
                <div class="col-lg-12 col-md-12 col-sm-12"  *ngFor="let item of products">
                    
                    <div class="card card-desc" style="margin-bottom: 12px;">
                        <div class="card-body ">
                            <div class="row">
                                <div class="col-3">
                                    <div class="images">
                                        <img src="{{item.image}}" height="100" width="80">
                                    </div>
                                </div>

                                <div class="col-5">
                                    <div class="item-name">
                                        <p class="card-category">{{item.prod_name}}</p>
                                    </div>

                                    <div class="item-stock" >
                                        <div  class=""><p class="card-category"></p></div>
                                    </div>
                                    <div class="item-stock" >
                                        <div class=""><p class="card-category"></p></div>
                                    </div>
                                </div>

                                <div class="col-4">
                                    <div class="item-name">
                                        <p class="card-price">R{{item.prod_price}}</p>
                                    </div>

                                    <div class="item-name">
                                        <a class="remove" style="cursor: pointer;" (click)="removeProduct(item)"><i class="fa-solid fa-xmark"></i></a>
                                    </div>

                                    <div class="item-name">
                                        <p class="card-category"></p>
                                    </div>

                                    <div class="numbers">
                                      
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>  
                </div>
            </div>
            <div class="row justify-content-center">
                <div class="col-lg-12 col-md-12 col-sm-12">
                    <div class="card total " style="margin-bottom: 12px;">
                        <div class="card-body ">
                            <h3>Order Information</h3>
                            <div class="row">
                                <div class="col-8"><h5>No. of items: </h5></div>
                                <div class="col-4"><h5>{{totalNumber}}</h5></div>
                            </div>
                            
                            <div class="row">
                                <div class="col-8"><p>AMOUNT DUE: </p></div>
                                <div class="col-4"><h5>R {{sumTotal | number:'3.1-2'}}</h5></div>
                            </div>
                            <div class="row">
                                <div class="col-8"><p>VAT : </p></div>
                                <div class="col-4"><h5>R {{totTax | number:'3.1-2'}}</h5></div>
                            </div>
                            <div class="row">
                                <div class="col-8"><p>TOTAL AMOUNT:</p></div>
                                <div class="col-4"><h5>R {{ totalDue | number:'3.1-2'}}</h5></div>
                            </div>
                            <div class="row"><p>Vat amount calculated using 15%</p></div>
                            
                            <div class="buttons mb-4" style="margin-left:20px;">
                                <div >
                                    <button type="button" routerLink="/products" class="btn btn-secondary btn-sm n">Continue shopping</button>
                                </div>
                                <div style="margin-left:20px;">
                                    <button  (click)="loading = !loading" (click)="Checkout()" type="button" class="btn btn-secondary btn-sm n">Check out</button>
                                </div>
                            </div> 
                        </div>
                    </div> 
                </div>
            </div>    
        </div>
    </div>
</ng-container>

<ng-container *ngIf="products.length == 0">
    <div class="container">
        <div class="card empty" >
            <h4 class="card-title">My Cart</h4>
        </div>

        <div class="center">
            <img src="https://media.istockphoto.com/vectors/purchase-flat-line-icon-outline-vector-symbol-illustration-pixel-vector-id1225349588?k=20&m=1225349588&s=612x612&w=0&h=NjO2s3jAZJ6sh3VybcPp-mGjo9SqTMkfY9i9iI1DKLc=" alt="">
            <h5>Your shopping cart is empty!</h5>
            <h6>Add items to it now</h6>
            <div class="col">
                <button type="button" class="btn btn-secondary  btn-sm n" routerLink="/products" routerLinkActive="router-link-active">Shop Now</button>
            </div>
        </div>
    </div>
</ng-container>
<ngx-loading
[show]="loading"
[config]="{
  animationType: ngxLoadingAnimationTypes.circleSwish,
  primaryColour: '#ffffff', secondaryColour: '#ffffff',
  backdropBorderRadius: '3px'
}">
</ngx-loading>